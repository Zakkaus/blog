<span>
  {{ $filePath := "<nil>" }}
  {{ $fileDir := "<nil>" }}
  {{ with .File }}
    {{ $filePath = .Path }}
    {{ $fileDir = .Dir }}
  {{ end }}
  {{ $id := "null" }}
  {{ if eq .Kind "taxonomy" }}
    {{ $id = delimit (slice "views_taxonomy_" .Page.Data.Plural) "" }}
  {{ else if eq .Kind "term" }}
    {{ $id = delimit (slice "views_term_" .Page.Data.Term) "" }}
  {{ else }}
    {{ $oidPath := "" }}
    {{ $rel := "" }}
    {{ with .RelPermalink }}
      {{ $rel = printf "%s" . }}
    {{ end }}
    {{ if ne $rel "" }}
      {{ if not (strings.HasSuffix $rel "/") }}
        {{ $rel = printf "%s/" $rel }}
      {{ end }}
  {{ $clean := strings.TrimLeft "/" $rel }}
      {{ if or (eq $clean "") (eq $clean "/") }}
        {{ $oidPath = "/" }}
      {{ else }}
        {{ $oidPath = $clean }}
      {{ end }}
    {{ end }}

    {{ if and (eq $oidPath "") .File }}
      {{ $dir := printf "%s" .File.Dir }}
      {{ if ne $dir "" }}
        {{ if strings.HasSuffix $dir "/" }}
          {{ $oidPath = $dir }}
        {{ else }}
          {{ $oidPath = printf "%s/" $dir }}
        {{ end }}
      {{ end }}
    {{ end }}

    {{ if and (eq $oidPath "") .Path }}
      {{ $path := printf "%s" .Path }}
  {{ $clean := strings.TrimLeft "/" $path }}
      {{ if eq $clean "" }}
        {{ $oidPath = "/" }}
      {{ else }}
        {{ $oidPath = printf "%s/" $clean }}
      {{ end }}
    {{ end }}

    {{ if and (eq $oidPath "") .File }}
      {{ $path := .File.Path }}
      {{ range .AllTranslations }}
        {{ $lang := print "." .Lang ".md" }}
        {{ $path = replace $path $lang ".md" }}
      {{ end }}
      {{ if not (strings.HasSuffix $path "/") }}
        {{ $path = printf "%s/" $path }}
      {{ end }}
  {{ $oidPath = strings.TrimLeft "/" $path }}
    {{ end }}

    {{ if ne $oidPath "" }}
      {{ $id = delimit (slice "views_" $oidPath) "" }}
    {{ end }}
  {{ end }}
  <span
    id="{{ $id }}"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="views"
    >loading</span
  >
  <span class="inline-block align-text-bottom">{{ partial "icon.html" "eye" }}</span>
</span>
