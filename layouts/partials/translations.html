{{ if and .IsTranslated (hugo.IsMultilingual) }}
  {{ $current := .Language.Params.displayName | default .Language.LanguageName | default (upper .Lang) | emojify }}
  <div>
    <div class="cursor-pointer flex items-center nested-menu">
      <span class="me-1">
        {{ partial "icon.html" "language" }}
      </span>
      <div
        class="text-sm font-medium hover:text-primary-600 dark:hover:text-primary-400"
        title="{{ .Title }}">
        {{- $current -}}
      </div>
    </div>
    <div class="absolute menuhide">
      <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
        <div class="flex flex-col space-y-3">
          {{ range .AllTranslations }}
            {{ warnf "page %s option languageLang=%s languageName=%s displayName=%s" $.Lang .Language.Lang .Language.LanguageName (.Language.Params.displayName) }}
            {{ $label := .Language.Params.displayName | default .Language.LanguageName | default (upper .Lang) | emojify }}
            <a href="{{ .RelPermalink }}" class="flex items-center">
              <p
                class="text-sm font-sm hover:text-primary-600 dark:hover:text-primary-400"
                title="{{ .Title }}">
                {{ printf "%s | %s | %s | %s" .Lang .Language.Lang .RelPermalink $label }}
              </p>
            </a>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
{{ end }}
